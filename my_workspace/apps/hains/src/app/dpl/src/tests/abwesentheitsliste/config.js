export const abwesentheitsliste = {
  isLoading: false,
  loadNewData: (scrollPast, dateView) => {
    console.log('mock', scrollPast, dateView);
  },
  dates: {
    '2024-01-23': { date_nr: '20240123', full_date: '2024-01-23' },
    '2024-01-24': { date_nr: '20240124', full_date: '2024-01-24' },
    '2024-01-25': { date_nr: '20240125', full_date: '2024-01-25' },
    '2024-01-26': { date_nr: '20240126', full_date: '2024-01-26' },
    '2024-01-27': { date_nr: '20240127', full_date: '2024-01-27' },
    '2024-01-28': { date_nr: '20240128', full_date: '2024-01-28' },
    '2024-01-29': { date_nr: '20240129', full_date: '2024-01-29' },
    '2024-01-30': { date_nr: '20240130', full_date: '2024-01-30' },
    '2024-01-31': { date_nr: '20240131', full_date: '2024-01-31' },
    '2024-02-01': { date_nr: '20240201', full_date: '2024-02-01' },
    '2024-02-02': { date_nr: '20240202', full_date: '2024-02-02' },
    '2024-02-07': { date_nr: '20240207', full_date: '2024-02-07' },
    '2024-02-08': { date_nr: '20240208', full_date: '2024-02-08' },
    '2024-02-09': { date_nr: '20240209', full_date: '2024-02-09' },
    '2024-02-10': { date_nr: '20240210', full_date: '2024-02-10' },
    '2024-02-11': { date_nr: '20240211', full_date: '2024-02-11' },
    '2024-02-12': { date_nr: '20240212', full_date: '2024-02-12' },
    '2024-02-13': { date_nr: '20240213', full_date: '2024-02-13' },
    '2024-02-14': { date_nr: '20240214', full_date: '2024-02-14' },
    '2024-02-15': { date_nr: '20240215', full_date: '2024-02-15' },
    '2024-02-16': { date_nr: '20240216', full_date: '2024-02-16' },
    '2024-02-17': { date_nr: '20240217', full_date: '2024-02-17' },
    '2024-02-18': { date_nr: '20240218', full_date: '2024-02-18' },
    '2024-02-19': { date_nr: '20240219', full_date: '2024-02-19' },
    '2024-02-20': { date_nr: '20240220', full_date: '2024-02-20' },
    '2024-02-21': { date_nr: '20240221', full_date: '2024-02-21' },
    '2024-02-22': { date_nr: '20240222', full_date: '2024-02-22' },
    '2024-02-23': { date_nr: '20240223', full_date: '2024-02-23' },
    '2024-02-24': { date_nr: '20240224', full_date: '2024-02-24' },
    '2024-02-25': { date_nr: '20240225', full_date: '2024-02-25' },
    '2024-02-26': { date_nr: '20240226', full_date: '2024-02-26' },
    '2024-02-27': { date_nr: '20240227', full_date: '2024-02-27' },
    '2024-02-28': { date_nr: '20240228', full_date: '2024-02-28' },
    '2024-02-29': { date_nr: '20240229', full_date: '2024-02-29' },
    '2024-03-01': { date_nr: '20240301', full_date: '2024-03-01' },
    '2024-03-02': { date_nr: '20240302', full_date: '2024-03-02' },
    '2024-03-03': { date_nr: '20240303', full_date: '2024-03-03' },
    '2024-03-04': { date_nr: '20240304', full_date: '2024-03-04' },
    '2024-03-05': { date_nr: '20240305', full_date: '2024-03-05' },
    '2024-03-06': { date_nr: '20240306', full_date: '2024-03-06' },
    '2024-03-07': { date_nr: '20240307', full_date: '2024-03-07' },
    '2024-03-08': { date_nr: '20240308', full_date: '2024-03-08' },
    '2024-03-09': { date_nr: '20240309', full_date: '2024-03-09' },
    '2024-03-10': { date_nr: '20240310', full_date: '2024-03-10' },
    '2024-03-11': { date_nr: '20240311', full_date: '2024-03-11' },
    '2024-03-12': { date_nr: '20240312', full_date: '2024-03-12' },
    '2024-03-13': { date_nr: '20240313', full_date: '2024-03-13' },
    '2024-03-14': { date_nr: '20240314', full_date: '2024-03-14' },
    '2024-03-15': { date_nr: '20240315', full_date: '2024-03-15' },
    '2024-03-16': { date_nr: '20240316', full_date: '2024-03-16' },
    '2024-03-17': { date_nr: '20240317', full_date: '2024-03-17' },
    '2024-03-18': { date_nr: '20240318', full_date: '2024-03-18' },
    '2024-03-19': { date_nr: '20240319', full_date: '2024-03-19' },
    '2024-03-20': { date_nr: '20240320', full_date: '2024-03-20' },
    '2024-03-21': { date_nr: '20240321', full_date: '2024-03-21' },
    '2024-03-22': { date_nr: '20240322', full_date: '2024-03-22' },
    '2024-03-23': { date_nr: '20240323', full_date: '2024-03-23' },
    '2024-03-24': { date_nr: '20240324', full_date: '2024-03-24' },
    '2024-03-25': { date_nr: '20240325', full_date: '2024-03-25' },
    '2024-03-26': { date_nr: '20240326', full_date: '2024-03-26' },
    '2024-03-27': { date_nr: '20240327', full_date: '2024-03-27' },
    '2024-03-28': { date_nr: '20240328', full_date: '2024-03-28' },
    '2024-03-29': { date_nr: '20240329', full_date: '2024-03-29' },
    '2024-03-30': { date_nr: '20240330', full_date: '2024-03-30' },
    '2024-03-31': { date_nr: '20240331', full_date: '2024-03-31' },
    '2024-04-01': { date_nr: '20240401', full_date: '2024-04-01' },
    '2024-04-02': { date_nr: '20240402', full_date: '2024-04-02' },
    '2024-04-03': { date_nr: '20240403', full_date: '2024-04-03' },
    '2024-04-04': { date_nr: '20240404', full_date: '2024-04-04' },
    '2024-04-05': { date_nr: '20240405', full_date: '2024-04-05' },
    '2024-04-07': { date_nr: '20240407', full_date: '2024-04-07' },
    '2024-04-08': { date_nr: '20240408', full_date: '2024-04-08' },
    '2024-04-09': { date_nr: '20240409', full_date: '2024-04-09' },
    '2024-04-10': { date_nr: '20240410', full_date: '2024-04-10' },
    '2024-04-11': { date_nr: '20240411', full_date: '2024-04-11' },
    '2024-04-12': { date_nr: '20240412', full_date: '2024-04-12' },
    '2024-04-13': { date_nr: '20240413', full_date: '2024-04-13' },
    '2024-04-14': { date_nr: '20240414', full_date: '2024-04-14' },
    '2024-04-15': { date_nr: '20240415', full_date: '2024-04-15' },
    '2024-04-16': { date_nr: '20240416', full_date: '2024-04-16' }
  },
  counters: {
    2: {
      id: 2,
      mitarbeiter_id: 543,
      po_dienst_id: 92,
      planname: 'tz',
      description: 'Counter tz',
      von: '2024-03-05',
      bis: '2024-08-22',
      created_at: '2024-03-05T14:45:17.129+01:00',
      updated_at: '2024-03-05T14:45:17.129+01:00'
    }
  },
  aw_counter_po_dienst: {
    2: {
      13: {
        92: 19
      },
      14: {
        92: 99
      },
      15: {
        92: 4
      },
      21: {
        92: 171
      },
      23: {
        92: 43
      },
      34: {
        92: 46
      },
      43: {
        92: 27
      },
      44: {
        92: 27
      },
      51: {
        92: 20
      },
      52: {
        92: 32
      },
      55: {
        92: 71
      },
      59: {
        92: 45
      },
      69: {
        92: 23
      },
      74: {
        92: 45
      },
      103: {
        92: 94
      },
      120: {
        92: 30
      },
      121: {
        92: 30
      },
      127: {
        92: 19
      },
      134: {
        92: 45
      },
      162: {
        92: 24
      },
      166: {
        92: 22
      },
      170: {
        92: 48
      },
      172: {
        92: 30
      },
      177: {
        92: 25
      },
      178: {
        92: 20
      },
      195: {
        92: 23
      },
      209: {
        92: 30
      },
      214: {
        92: 24
      },
      232: {
        92: 24
      },
      235: {
        92: 14
      },
      256: {
        92: 44
      },
      288: {
        92: 13
      },
      325: {
        92: 15
      },
      341: {
        92: 11
      },
      362: {
        92: 28
      },
      365: {
        92: 45
      },
      368: {
        92: 30
      },
      379: {
        92: 48
      },
      383: {
        92: 19
      },
      392: {
        92: 30
      },
      398: {
        92: 41
      },
      409: {
        92: 23
      },
      417: {
        92: 46
      },
      423: {
        92: 24
      },
      428: {
        92: 25
      },
      444: {
        92: 47
      },
      458: {
        92: 47
      },
      468: {
        92: 40
      },
      469: {
        92: 9
      },
      471: {
        92: 44
      },
      481: {
        92: 18
      },
      573: {
        92: 6
      },
      616: {
        92: 65
      },
      716: {
        92: 26
      },
      718: {
        92: 22
      },
      742: {
        92: 49
      },
      762: {
        92: 43
      },
      765: {
        92: 10
      },
      787: {
        92: 22
      },
      789: {
        92: 23
      },
      834: {
        92: 171
      }
    }
  },
  settings: {
    id: 1,
    mitarbeiter_id: 543,
    visible_columns: [
      'tz',
      'u',
      'ug',
      'uv',
      'uz',
      'ru',
      'gu',
      'tzu',
      'vu',
      'bu',
      'fo',
      'dr'
    ],
    visible_team_ids: [1, 5, 10],
    created_at: '2024-02-16T12:13:26.748+01:00',
    updated_at: '2024-03-05T14:25:34.918+01:00'
  }
};

function createTableHeadColumns() {
  const result = [];

  const column1 = {
    offsetLeft: 0,
    clientWidth: 116,
    getBoundingClientRect: () => ({ width: 116 })
  };

  const width = 30;
  const visibleColumns = abwesentheitsliste.settings.visible_columns.reduce(
    (prev, cur, index) => {
      const offsetLeft = 116 + width * index;
      const textContent = cur;
      const getBoundingClientRect = () => ({ width });
      prev.push({ width, offsetLeft, textContent, getBoundingClientRect });
      return prev;
    },
    []
  );

  const visibleColumnsWidth =
    visibleColumns[visibleColumns.length - 1].offsetLeft + width;

  const counters = Object.values(abwesentheitsliste.counters).reduce(
    (prev, cur, index) => {
      const offsetLeft = visibleColumnsWidth + width * index;
      const textContent = cur.planname;
      const getBoundingClientRect = () => ({ width });
      prev.push({ width, offsetLeft, textContent, getBoundingClientRect });
      return prev;
    },
    []
  );

  const countersWidth = counters[counters.length - 1].offsetLeft + width;

  const dates = Object.keys(abwesentheitsliste.dates).reduce(
    (prev, cur, index) => {
      const offsetLeft = countersWidth + width * index;
      const getBoundingClientRect = () => ({ width });
      const dataset = { date: cur };
      prev.push({ width, offsetLeft, dataset, getBoundingClientRect });
      return prev;
    },
    []
  );

  result.push(column1, ...visibleColumns, ...counters, ...dates);
  return result;
}

function initValues(tableMock) {
  const cellWidth = 30;
  const col1Width = 116;
  const lengthOfDates = Object.values(abwesentheitsliste.dates).length;
  const columnsLength =
    Object.keys(abwesentheitsliste.counters).length +
    abwesentheitsliste.settings.visible_columns.length;

  const scrollWidth =
    lengthOfDates * cellWidth + (cellWidth * columnsLength + col1Width);
  const scrollLeftMax = scrollWidth - tableMock.clientWidth;
  tableMock.scrollWidth = scrollWidth;
  tableMock.scrollLeftMax = scrollLeftMax;
}

export function createTableMock() {
  const tableMock = {
    clientWidth: 1730,
    offsetWidth: 1745,
    scrollLeft: 0,
    scrollLeftMax: 0,
    scrollTop: 0,
    scrollWidth: 0,
    childNodes: [
      {
        tagName: 'thead',
        childNodes: [
          {
            tagName: 'tr',
            childNodes: createTableHeadColumns()
          }
        ]
      }
    ]
  };
  initValues(tableMock);

  return tableMock;
}
